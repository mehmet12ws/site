<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JWT İstemci Tarafı</title>
    <script src="https://cdn.jsdelivr.net/npm/jsrsasign@10.1.15/lib/jsrsasign-all-min.js"></script>
</head>
<body>
    <h1>JWT İstemci Tarafı</h1>
    <button id="generateToken">Token Oluştur</button>
    <button id="verifyToken">Token Doğrula</button>
    <pre id="output"></pre>

    <script>
        const secretKey = 'your_secret_key'; // Gizli anahtarınız

        document.getElementById('generateToken').addEventListener('click', () => {
            const header = { alg: 'HS256', typ: 'JWT' };
            const payload = { username: 'user', role: 'admin' };

            const token = KJUR.jws.JWS.sign('HS256', JSON.stringify(header), JSON.stringify(payload), secretKey);
            document.getElementById('output').textContent = `Token: ${token}`;
        });

        document.getElementById('verifyToken').addEventListener('click', () => {
            const token = document.getElementById('output').textContent.replace('Token: ', '');

            try {
                const decoded = KJUR.jws.JWS.verifyJWT(token, secretKey, { alg: ['HS256'] });
                document.getElementById('output').textContent += `\nDoğrulama Başarılı!\nPayload: ${JSON.stringify(decoded)}`;
            } catch (e) {
                document.getElementById('output').textContent += `\nDoğrulama Başarısız: ${e.message}`;
            }
        });
    </script>
</body>
</html>
